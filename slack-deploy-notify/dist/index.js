module.exports=function(e,t){"use strict";var r={};function __webpack_require__(t){if(r[t]){return r[t].exports}var n=r[t]={i:t,l:false,exports:{}};e[t].call(n.exports,n,n.exports,__webpack_require__);n.l=true;return n.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(676)}return startup()}({58:function(e,t,r){"use strict";const n=r(462);n.from=((e,t)=>{if(e instanceof DataView)return e;if(e instanceof ArrayBuffer)return new DataView(e);let r;if(typeof e==="string"){if(!t){t="utf-8"}else if(t==="base64"){r=Uint8Array.from(atob(e),e=>e.charCodeAt(0)).buffer;return new DataView(r)}if(t!=="utf-8")throw new Error("Browser support for encodings other than utf-8 not implemented");return new DataView((new TextEncoder).encode(e).buffer)}else if(typeof e==="object"){if(ArrayBuffer.isView(e)){if(e.byteLength===e.buffer.byteLength)return new DataView(e.buffer);else return new DataView(e.buffer,e.byteOffset,e.byteLength)}}throw new Error("Unkown type. Cannot convert to ArrayBuffer")});n.toString=((e,t)=>{e=n(e,t);const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);const s=String.fromCharCode(...r);if(t==="base64"){return btoa(s)}else{return s}});n.native=((e,t)=>{if(e instanceof Uint8Array)return e;e=n.from(e,t);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)});if(process.browser)n._randomFill=((...e)=>crypto.getRandomValues(...e));e.exports=n},211:function(e){e.exports=require("https")},231:function(e,t,r){"use strict";const n=r(605);const s=r(211);const{URL:o}=r(835);const i=r(323);const f=r(972);const a=r(414);const c=r(431);const u=r(761);const{PassThrough:p}=r(413);const l={};if(u.createBrotliDecompress)l.br=(()=>u.createBrotliDecompress());if(u.createGunzip)l.gzip=(()=>u.createGunzip());if(u.createInflate)l.deflate=(()=>u.createInflate());const h=Object.keys(l).join(", ");const y=e=>{const t=new p;t.statusCode=e.statusCode;t.statusMessage=e.statusMessage;t.headers=e.headers;t._response=e;if(t.headers["content-encoding"]){const r=t.headers["content-encoding"].split(", ").reverse();while(r.length){const t=r.shift();if(l[t]){e=e.pipe(l[t]())}else{break}}}return e.pipe(t)};class StatusError extends Error{constructor(e,...t){super(...t);Error.captureStackTrace(this,StatusError);this.message=`Incorrect statusCode: ${e.statusCode}`;this.statusCode=e.statusCode;this.responseBody=new Promise(t=>{const r=[];e.on("data",e=>r.push(e));e.on("end",()=>t(Buffer.concat(r)))})}}const b=e=>new Promise((t,r)=>{const n=[];e.on("error",r);e.on("end",()=>t(Buffer.concat(n)));e.on("data",e=>n.push(e))});const d=(e,t,r,c,u)=>(p,l=null,d={})=>{p=u+(p||"");const w=new o(p);let g;if(w.protocol==="https:"){g=s}else if(w.protocol==="http:"){g=n}else{throw new Error(`Unknown protocol, ${w.protocol}`)}const m={path:w.pathname+w.search,port:w.port,method:t,headers:{...c||{},...d},hostname:w.hostname};if(w.username||w.password){m.auth=[w.username,w.password].join(":")}const _=f(m.headers);if(r==="json"){if(!_.get("accept")){_.set("accept","application/json")}}if(!_.has("accept-encoding")){_.set("accept-encoding",h)}return new Promise((t,n)=>{const s=g.request(m,async s=>{s.status=s.statusCode;if(!e.has(s.statusCode)){return n(new StatusError(s))}s=y(s);if(!r)return t(s);else{const e=await b(s);if(r==="buffer"){t(e)}else if(r==="json"){let r;try{r=JSON.parse(e.toString());t(r)}catch(t){t.message+=`str"${e.toString()}"`;n(t)}}else if(r==="string"){t(e.toString())}}});s.on("error",n);if(l){if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)){l=a.native(l)}if(Buffer.isBuffer(l)){}else if(typeof l==="string"){l=Buffer.from(l)}else if(i(l)){l.pipe(s);l=null}else if(typeof l==="object"){s.setHeader("content-type","application/json");l=Buffer.from(JSON.stringify(l))}else{n(new Error("Unknown body type."))}if(l){s.setHeader("content-length",l.length);s.end(l)}}else{s.end()}})};e.exports=c(d)},323:function(e){"use strict";const t=e=>e!==null&&typeof e==="object"&&typeof e.pipe==="function";t.writable=(e=>t(e)&&e.writable!==false&&typeof e._write==="function"&&typeof e._writableState==="object");t.readable=(e=>t(e)&&e.readable!==false&&typeof e._read==="function"&&typeof e._readableState==="object");t.duplex=(e=>t.writable(e)&&t.readable(e));t.transform=(e=>t.duplex(e)&&typeof e._transform==="function"&&typeof e._transformState==="object");e.exports=t},413:function(e){e.exports=require("stream")},414:function(e,t,r){"use strict";const n=r(417);const s=r(58).from;const o=r(462);o.from=((e,t)=>{if(e instanceof DataView)return e;if(e instanceof ArrayBuffer)return new DataView(e);if(typeof e==="string"){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)){return new DataView(e.buffer,e.byteOffset,e.byteLength)}return s(e,t)});o.toString=((e,t)=>{e=o(e);return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString(t)});o.native=((e,t)=>{if(Buffer.isBuffer(e))return e;e=o(e,t);return Buffer.from(e.buffer,e.byteOffset,e.byteLength)});o._randomFill=n.randomFillSync;e.exports=o},417:function(e){e.exports=require("crypto")},431:function(e){"use strict";const t=new Set(["json","buffer","string"]);e.exports=(e=>(...r)=>{const n=new Set;let s;let o;let i;let f="";r.forEach(e=>{if(typeof e==="string"){if(e.toUpperCase()===e){if(s){const t=`Can't set method to ${e}, already set to ${s}.`;throw new Error(t)}else{s=e}}else if(e.startsWith("http:")||e.startsWith("https:")){f=e}else{if(t.has(e)){o=e}else{throw new Error(`Unknown encoding, ${e}`)}}}else if(typeof e==="number"){n.add(e)}else if(typeof e==="object"){if(i){throw new Error("Cannot set headers twice.")}i=e}else{throw new Error(`Unknown type: ${typeof e}`)}});if(!s)s="GET";if(n.size===0){n.add(200)}return e(n,s,o,i,f)})},462:function(e){"use strict";const t=(e,t)=>{if(e.byteLength===t.byteLength)return e.byteLength;else if(e.byteLength>t.byteLength)return e.byteLength;return t.byteLength};const r=(e,t)=>r.from(e,t);r.sorter=((e,n)=>{e=r(e);n=r(n);const s=t(e,n);let o=0;while(o<s-1){if(o>=e.byteLength)return 1;else if(o>=n.byteLength)return-1;if(e.getUint8(o)<n.getUint8(o))return-1;else if(e.getUint8(o)>n.getUint8(o))return 1;o++}return 0});r.compare=((e,t)=>!r.sorter(e,t));r.memcopy=((e,t)=>{const n=r(e,t);return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)});r.arrayBuffer=((e,t)=>{e=r(e,t);if(e.buffer.byteLength===e.byteLength)return e.buffer;return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)});const n=(e,t=0,n=null)=>{e=r(e);n=(n===null?e.byteLength:n)-t;return[e.buffer,e.byteOffset+t,n]};r.slice=((e,t,r)=>new DataView(...n(e,t,r)));r.memcopySlice=((e,t,r)=>{const[s,o,i]=n(e,t,r);return s.slice(o,i+o)});r.typedArray=((e,t=Uint8Array)=>{e=r(e);return new t(e.buffer,e.byteOffset,e.byteLength/t.BYTES_PER_ELEMENT)});r.concat=(e=>{e=Array.from(e);e=e.map(e=>r(e));const t=e.reduce((e,t)=>e+t.byteLength,0);const n=new Uint8Array(t);let s=0;for(const t of e){const e=r.typedArray(t);n.set(e,s);s+=e.byteLength}return n.buffer});const s=65536;r.random=(e=>{const t=new ArrayBuffer(e);if(e>s){let e=0;while(e<t.byteLength){let n;if(e+s>t.byteLength)n=t.byteLength-e;else n=s;const o=new Uint8Array(t,e,n);e+=s;r._randomFill(o)}}else{const e=new Uint8Array(t);r._randomFill(e)}return t});e.exports=r},605:function(e){e.exports=require("http")},676:function(e,t,r){const n=r(231);const{INPUT_SLACK_NOTIFY_EVENT:s,INPUT_GITHUB_RUN_ID:o,INPUT_WEBHOOK_TOKEN:i,INPUT_COMMIT_MESSAGE:f}=process.env;const[a,c]=process.env.GITHUB_REPOSITORY.split("/",2);if(!s||!o||!i){console.error("Missing argument for the slack-notifications actions!");console.log({eventType:s,runId:o,webhookToken:i});process.exit(1)}const u=`https://github.com/${a}/${c}/actions/runs/${o}`;const p=`https://github.com/${a}/${c}/actions?query=branch%3Amaster`;const l=f.trim().length>0?`\n*${f.trim()}*\n`:"";const h={DEPLOYMENT_TEST_FAIL:{text:`A test check failed preventing deployment on master\n    ${l}<${u}|See github action>`},DEPLOYMENT_PAUSED:{text:`The deployment for master ${l}has been paused because of another running deployment. Please resume it when the first deployment is green.\n<${u}|See github action> \n\n<${p}|See all running actions>`}};async function run(){const e="https://hooks.slack.com/services/";const t=await n(e,"POST","json",200);const r=h[s];await t(i,r)}run().catch(async e=>{if(e.responseBody){const t=await e.responseBody;console.log(t.toString("utf-8"))}console.error("Something wrong happened");console.error(e);process.exit(2)})},761:function(e){e.exports=require("zlib")},835:function(e){e.exports=require("url")},972:function(e){function Caseless(e){this.dict=e||{}}Caseless.prototype.set=function(e,t,r){if(typeof e==="object"){for(var n in e){this.set(n,e[n],t)}}else{if(typeof r==="undefined")r=true;var s=this.has(e);if(!r&&s)this.dict[s]=this.dict[s]+","+t;else this.dict[s||e]=t;return s}};Caseless.prototype.has=function(e){var t=Object.keys(this.dict),e=e.toLowerCase();for(var r=0;r<t.length;r++){if(t[r].toLowerCase()===e)return t[r]}return false};Caseless.prototype.get=function(e){e=e.toLowerCase();var t,r;var n=this.dict;Object.keys(n).forEach(function(s){r=s.toLowerCase();if(e===r)t=n[s]});return t};Caseless.prototype.swap=function(e){var t=this.has(e);if(t===e)return;if(!t)throw new Error('There is no header than matches "'+e+'"');this.dict[e]=this.dict[t];delete this.dict[t]};Caseless.prototype.del=function(e){var t=this.has(e);return delete this.dict[t||e]};e.exports=function(e){return new Caseless(e)};e.exports.httpify=function(e,t){var r=new Caseless(t);e.setHeader=function(e,t,n){if(typeof t==="undefined")return;return r.set(e,t,n)};e.hasHeader=function(e){return r.has(e)};e.getHeader=function(e){return r.get(e)};e.removeHeader=function(e){return r.del(e)};e.headers=r.dict;return r}}});